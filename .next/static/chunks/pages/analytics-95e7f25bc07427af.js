(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{1296:function(e,t,n){var s=0/0,a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,m=c||d||Function("return this")(),x=Object.prototype.toString,u=Math.max,h=Math.min,f=function(){return m.Date.now()};function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==x.call(t))return s;if(j(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=j(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var c=i.test(e);return c||l.test(e)?o(e.slice(2),c?2:8):r.test(e)?s:+e}e.exports=function(e,t,n){var s,a,r,i,l,o,c=0,d=!1,m=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=s,r=a;return s=a=void 0,c=t,i=e.apply(r,n)}function v(e){var n=e-o,s=e-c;return void 0===o||n>=t||n<0||m&&s>=r}function b(){var e,n,s,a=f();if(v(a))return g(a);l=setTimeout(b,(e=a-o,n=a-c,s=t-e,m?h(s,r-n):s))}function g(e){return(l=void 0,x&&s)?y(e):(s=a=void 0,i)}function N(){var e,n=f(),r=v(n);if(s=arguments,a=this,o=n,r){if(void 0===l)return c=e=o,l=setTimeout(b,t),d?y(e):i;if(m)return l=setTimeout(b,t),y(o)}return void 0===l&&(l=setTimeout(b,t)),i}return t=p(t)||0,j(n)&&(d=!!n.leading,r=(m="maxWait"in n)?u(p(n.maxWait)||0,t):r,x="trailing"in n?!!n.trailing:x),N.cancel=function(){void 0!==l&&clearTimeout(l),c=0,s=o=a=l=void 0},N.flush=function(){return void 0===l?i:g(f())},N}},8178:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return n(7505)}])},1398:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(5893),a=n(9008),r=n.n(a),i=n(1664),l=n.n(i);function o(e){let{children:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Warriors Game AI Commentary"}),(0,s.jsx)("meta",{name:"description",content:"AI-powered commentary for Warriors games"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("nav",{className:"bg-black text-neon-green p-4",children:(0,s.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,s.jsx)(l(),{href:"/",className:"text-2xl font-bold text-neon-green",children:"Warriors AI Commentary"}),(0,s.jsxs)("ul",{className:"flex space-x-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/",className:"hover:text-green-400",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/analytics",className:"hover:text-green-400",children:"Analytics"})})]})]})}),(0,s.jsx)("main",{children:t})]})}},7505:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var s=n(5893),a=n(7294),r=n(1398),i=n(2305),l=n(5043),o=n(4206),c=n(2154),d=n(4283),m=n(6910),x=n(3447),u=n(9949),h=n(2332),f=n(8933),j=n(1296),p=n.n(j);let y=e=>{let{total:t}=e;return(0,s.jsx)(i.h,{width:"100%",height:300,children:(0,s.jsxs)(l.v,{data:[{name:"Total Commentaries",total:t}],children:[(0,s.jsx)(o.q,{strokeDasharray:"3 3"}),(0,s.jsx)(c.K,{dataKey:"name"}),(0,s.jsx)(d.B,{}),(0,s.jsx)(m.u,{}),(0,s.jsx)(x.D,{}),(0,s.jsx)(u.$,{dataKey:"total",fill:"#8884d8"})]})})},v=e=>{let{commentaries:t=[]}=e,n=t.map(e=>({timestamp:new Date(e.timestamp).toLocaleString(),length:e.commentary.length})).reverse();return(0,s.jsx)(i.h,{width:"100%",height:300,children:(0,s.jsxs)(h.w,{data:n,children:[(0,s.jsx)(o.q,{strokeDasharray:"3 3"}),(0,s.jsx)(c.K,{dataKey:"timestamp"}),(0,s.jsx)(d.B,{}),(0,s.jsx)(m.u,{}),(0,s.jsx)(x.D,{}),(0,s.jsx)(f.x,{type:"monotone",dataKey:"length",stroke:"#8884d8"})]})})};function b(){var e;let[t,n]=(0,a.useState)(null),[i,l]=(0,a.useState)("");(0,a.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await fetch("/api/analytics?userPrompt=".concat(i)),t=await e.json();n(t)}catch(e){console.error("Error fetching analytics data:",e)}};return t?(0,s.jsx)(r.Z,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Analytics Dashboard"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 mb-8",children:(0,s.jsxs)("div",{className:"p-6 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Total Commentaries"}),(0,s.jsx)(y,{total:t.totalCommentaries})]})}),(0,s.jsxs)("div",{className:"p-6 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Latest Commentaries"}),(0,s.jsx)(v,{commentaries:t.similaritySearch||[]}),(0,s.jsx)("input",{type:"text",value:i,onChange:p()(e=>{l(e.target.value),o()},300),placeholder:"Enter your prompt",className:"input-class"}),(0,s.jsxs)("table",{className:"w-full mt-4",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Timestamp"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Commentary"})]})}),(0,s.jsx)("tbody",{children:null==t?void 0:null===(e=t.similaritySearch)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("tr",{className:t%2==0?"bg-gray-800":"",children:[(0,s.jsx)("td",{className:"px-4 py-2",children:new Date(e.timestamp).toLocaleString()}),(0,s.jsx)("td",{className:"px-4 py-2",children:e.commentary})]},t))})]})]})]})}):(0,s.jsx)(r.Z,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Analytics Dashboard"}),(0,s.jsx)("p",{children:"Loading..."})]})})}}},function(e){e.O(0,[878,888,774,179],function(){return e(e.s=8178)}),_N_E=e.O()}]);